<tool id="soapdenovo_pregraph" name="pregraph" version="0.1.0">

	<description>with SOAPdenovo</description>

    <macros>
        <import>soapdenovo_macros.xml</import>
    </macros>

    <expand macro="requirements"/>
    
    <stdio>
        <exit_code range="1:" />
    </stdio>
    
    <command><![CDATA[
    	#if $max_kmer_size == "63"
            SOAPdenovo-63mer pregraph
        #else
            SOAPdenovo-127mer pregraph
        #end if
        
  			-K $kmer 
  			-o pregraph
    ]]></command>
    
    <inputs>
		<param type="data" name="config" format="xml"  label="configuration file generated by generate_config_file_xml" />
		<param type="integer" name="kmer" value="23" min="13" max="63" label="kmer size (min 13, max 63)" />
		<param type="boolean" name="resolve" checked = "false" label = "resolve repeats by reads" />
    </inputs>
    
    <outputs>
    	<data name="kmerFreq" format="txt" label="${tool.name} on ${on_string}: kmerFreq" from_work_dir="pregraph.kmerFreq" />
    	<data name="edge" format="txt" label="${tool.name} on ${on_string}: edge" from_work_dir="pregraph.edge" />
    	<data name="markOnEdge" format="txt" label="${tool.name} on ${on_string}: markOnEdge"  from_work_dir="pregraph.markOnEdge"/>
    	<data name="path" format="txt" label="${tool.name} on ${on_string}: path" from_work_dir="pregraph.path" />
    	<data name="preArc" format="txt" label="${tool.name} on ${on_string}: preArc" from_work_dir="pregraph.preArc" />
    	<data name="vertex" format="txt" label="${tool.name} on ${on_string}: vertex" from_work_dir="pregraph.vertex" />
    	<data name="preGraphBasic" format="txt" label="${tool.name} on ${on_string}: preGraphBasic" from_work_dir="pregraph.preGraphBasic" />
    </outputs>
    
    <expand macro="help"/>

    <expand macro="citations"/>
</tool>